(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{8508:(t,e,a)=>{"use strict";a.d(e,{ME:()=>i,iD:()=>n,kz:()=>o,ri:()=>c});var r=a(35974),s=a(55103);let n=async t=>{try{let e=await r.A.post("/auth/login",t);return console.log("Login response:",e.data),e.data}catch(t){(0,s.h)(t,"Login Failed")}},o=async t=>{try{return(await r.A.post("/auth/register",t)).data}catch(t){(0,s.h)(t,"Register Failed")}},i=async t=>{try{return(await r.A.get("/auth/profile",{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(t){(0,s.h)(t,"Get Profile Failed")}},c=()=>{localStorage.removeItem("token")}},35974:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});let r=a(23464).A.create({baseURL:"http://localhost:5001/api/v1/",timeout:1e4,headers:{"Content-Type":"application/json"}})},49227:(t,e,a)=>{"use strict";function r(){let t=localStorage.getItem("token");return t?{Authorization:"Bearer ".concat(t)}:{}}a.d(e,{A:()=>r})},50214:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>y});var r=a(95155),s=a(12115);function n(t){let{title:e,value:a,icon:s,change:n,color:o}=t;return(0,r.jsxs)("article",{className:"flex items-center gap-4 rounded-lg border border-gray-100 bg-white p-6 w-full overflow-hidden",children:[(0,r.jsx)("span",{className:"rounded-full bg-blue-100 p-3 text-blue-600 shrink-0",children:s}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 lg:truncate",children:a}),(0,r.jsx)("p",{className:"text-sm text-gray-500 lg:truncate",children:e}),(0,r.jsx)("p",{className:"text-xs mt-1 font-medium lg:truncate ".concat(o),children:n})]})]})}var o=a(29911),i=a(87051),c=a(71706),l=a(8508),d=a(83540),h=a(56965),g=a(96025),m=a(16238),x=a(94517),u=a(21374);function y(){let[t,e]=(0,s.useState)([]),[a,y]=(0,s.useState)(null),[p,j]=(0,s.useState)([]),[f,v]=(0,s.useState)({}),w=async()=>{try{let[t,a,r,s]=await Promise.all([(0,c.Wy)(),(0,c.UB)(),(0,c.SW)(),(0,l.ME)(localStorage.getItem("token")||"")]);e(t.data),y(a.data),j(r.data),v(s.data||{})}catch(t){t instanceof Error?(console.error({message:t.message,type:"danger"}),console.log(t.message)):console.error({message:"Terjadi Kesalahan",type:"danger"})}};(0,s.useEffect)(()=>{w()},[]);let A=new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return(0,r.jsxs)("div",{className:"p-3 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-8 text-white bg-gradient-to-r    from-indigo-900 to-indigo-600 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold",children:"Wellcome Back, User! "}),(0,r.jsx)("p",{className:"text-md mt-1 font-normal",children:"Insights at a glance: empowering your financial journey."})]}),(0,r.jsx)("div",{className:"text-right text-md text-white",children:(0,r.jsx)("p",{className:"font-medium",children:A})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(n,{title:"Total Balance",value:(0,i.A)(null==a?void 0:a.balance)||"0",icon:(0,r.jsx)(o.lcY,{size:24}),change:"This Month",color:"text-gray-600"}),(0,r.jsx)(n,{title:"Total Savings",value:(0,i.A)(null==a?void 0:a.saving)||"0",icon:(0,r.jsx)(o.oMH,{size:24}),change:"For Recommendation",color:"text-gray-600"}),(0,r.jsx)(n,{title:"Total Income",value:(0,i.A)(null==a?void 0:a.income)||"0",icon:(0,r.jsx)(o.uCC,{size:24}),change:"This Month",color:"text-gray-600"}),(0,r.jsx)(n,{title:"Total Expense",value:(0,i.A)(null==a?void 0:a.expense)||"0",icon:(0,r.jsx)(o.$TP,{size:24}),change:"This Month",color:"text-gray-600"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 pb-16 rounded-lg shadow lg:col-span-3 h-[61vh]",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsx)("h3",{className:"text-lg font-bold",children:"Money Flow"})}),(0,r.jsx)(d.u,{width:"100%",height:"100%",children:(0,r.jsxs)(h.b,{data:t,children:[(0,r.jsx)(g.W,{dataKey:"date",tickFormatter:t=>String(new Date(t).getDate()).padStart(2,"0")}),(0,r.jsx)(m.h,{tickFormatter:t=>"".concat(t.toLocaleString("id-ID")),tick:{fontSize:10}}),(0,r.jsx)(x.m,{formatter:t=>"".concat(t.toLocaleString("id-ID")),labelFormatter:t=>{let e=new Date(t);return"Tanggal ".concat(String(e.getDate()).padStart(2,"0"))}}),(0,r.jsx)(u.N,{type:"monotone",dataKey:"income",stroke:"#4f46e5",strokeWidth:2,isAnimationActive:!0,animationDuration:1200}),(0,r.jsx)(u.N,{type:"monotone",dataKey:"expense",stroke:"#dc2626",strokeWidth:2,isAnimationActive:!0,animationDuration:1200})]})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow overflow-auto h-full",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,r.jsx)("h3",{className:"text-md font-bold",children:"Recent Transaction"})}),(0,r.jsxs)("table",{className:"w-full text-xs text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-gray-500 border-b",children:[(0,r.jsx)("th",{className:"py-2",children:"Tx"}),(0,r.jsx)("th",{children:"Amount"})]})}),(0,r.jsxs)("tbody",{children:[p.map((t,e)=>{var a;return(0,r.jsxs)("tr",{className:"border-t text-gray-600",children:[(0,r.jsxs)("td",{className:"py-3 font-medium",children:[(0,r.jsx)("div",{className:"text-sm font-semibold",children:(null==(a=t.category)?void 0:a.name)||"-"}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:new Date(t.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})})]}),(0,r.jsx)("td",{className:"text-sm font-bold ".concat("expense"===t.type?"text-red-500":"text-green-500"),children:(0,i.A)(parseInt(t.amount))})]},e)}),0===p.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,className:"text-center py-4 text-gray-400",children:"No Recent Transactions"})})]})]})]})]})]})}},55103:(t,e,a)=>{"use strict";function r(t,e){if("object"==typeof t&&null!==t&&"response"in t){var a,r;let s=null==(a=t.response)?void 0:a.data;if(s&&"object"==typeof s&&!Array.isArray(s)){if(Array.isArray(s.errors)&&s.errors.length>0)throw Error((null==s||null==(r=s.errors[0])?void 0:r.msg)||e);if("string"==typeof s.message)throw Error(s.message)}if("string"==typeof s)throw Error(s)}throw console.error("Unhandled error structure:",t),Error(e)}a.d(e,{h:()=>r})},56496:(t,e,a)=>{Promise.resolve().then(a.bind(a,50214))},71706:(t,e,a)=>{"use strict";a.d(e,{Hx:()=>i,R_:()=>o,SW:()=>m,UB:()=>h,Uw:()=>d,Wy:()=>g,Xk:()=>l,nI:()=>x,zS:()=>c});var r=a(35974),s=a(55103),n=a(49227);let o=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let s=new URLSearchParams({page:String(t),limit:String(e)});return a&&s.append("search",a),(await r.A.get("/transactions?".concat(s.toString()),{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},i=async t=>{try{return(await r.A.get("/transactions/".concat(t),{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},c=async t=>{try{let e=await r.A.post("/transactions",t,{headers:(0,n.A)()});return console.log("Transaction created:",e.data),e.data}catch(t){(0,s.h)(t,"Transaction Error")}},l=async(t,e)=>{try{return(await r.A.put("/transactions/".concat(t),e,{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},d=async t=>{try{return(await r.A.delete("/transactions/".concat(t),{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},h=async()=>{try{return(await r.A.get("/transactions/monthly-summary",{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},g=async()=>{try{return(await r.A.get("/transactions/monthly-chart",{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},m=async()=>{try{return(await r.A.get("/transactions/today",{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}},x=async()=>{try{return(await r.A.get("/transactions/today-expense-stats",{headers:(0,n.A)()})).data}catch(t){(0,s.h)(t,"Transaction Error")}}},87051:(t,e,a)=>{"use strict";function r(t){return"Rp. ".concat(null==t?void 0:t.toLocaleString("id-ID"))}a.d(e,{A:()=>r})}},t=>{var e=e=>t(t.s=e);t.O(0,[711,673,432,441,684,358],()=>e(56496)),_N_E=t.O()}]);