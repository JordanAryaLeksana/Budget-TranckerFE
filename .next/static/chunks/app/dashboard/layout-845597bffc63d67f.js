(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{8508:(e,r,t)=>{"use strict";t.d(r,{ME:()=>i,iD:()=>o,kz:()=>l,ri:()=>n});var s=t(35974),a=t(55103);let o=async e=>{try{let r=await s.A.post("/auth/login",e);return console.log("Login response:",r.data),r.data}catch(e){(0,a.h)(e,"Login Failed")}},l=async e=>{try{return(await s.A.post("/auth/register",e)).data}catch(e){(0,a.h)(e,"Register Failed")}},i=async e=>{try{return(await s.A.get("/auth/profile",{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){(0,a.h)(e,"Get Profile Failed")}},n=()=>{localStorage.removeItem("token")}},35221:(e,r,t)=>{Promise.resolve().then(t.bind(t,59146))},35695:(e,r,t)=>{"use strict";var s=t(18999);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},35974:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=t(23464).A.create({baseURL:"http://localhost:5001/api/v1/",timeout:1e4,headers:{"Content-Type":"application/json"}})},55103:(e,r,t)=>{"use strict";function s(e,r){if("object"==typeof e&&null!==e&&"response"in e){var t,s;let a=null==(t=e.response)?void 0:t.data;if(a&&"object"==typeof a&&!Array.isArray(a)){if(Array.isArray(a.errors)&&a.errors.length>0)throw Error((null==a||null==(s=a.errors[0])?void 0:s.msg)||r);if("string"==typeof a.message)throw Error(a.message)}if("string"==typeof a)throw Error(a)}throw console.error("Unhandled error structure:",e),Error(r)}t.d(r,{h:()=>s})},59146:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var s=t(95155),a=t(12115),o=t(6874),l=t.n(o),i=t(35695),n=t(58242),c=t(8508);let u=()=>{let e=(0,i.usePathname)(),r=(0,i.useRouter)(),[t,o]=(0,a.useState)(null),[u,d]=(0,a.useState)("U");if((0,a.useEffect)(()=>{o(e),(async()=>{try{var e;let t=localStorage.getItem("token");if(!t)return void r.push("/");let s=(null==(e=(await (0,c.ME)(t)).data)?void 0:e.name)||"";s.length>0&&d(s[0].toUpperCase())}catch(e){console.error(e),(0,c.ri)(),r.push("/")}})()},[e,r]),!t)return null;let h=[{href:"/dashboard",icon:(0,s.jsx)(n.rIn,{className:"size-5 opacity-75"}),label:"Dashboard"},{href:"/dashboard/transaction",icon:(0,s.jsx)(n.aww,{className:"size-5 opacity-75"}),label:"Transaction"},{href:"/dashboard/summary",icon:(0,s.jsx)(n.ofI,{className:"size-5 opacity-75"}),label:"Summary"},{href:"/dashboard/profile",icon:(0,s.jsx)(n.aSe,{className:"size-5 opacity-75"}),label:"Profile"}];return(0,s.jsxs)("div",{className:"flex fixed top-0 left-0 h-screen w-16 flex-col justify-between border-e border-gray-50 bg-white",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"inline-flex size-16 items-center justify-center",children:(0,s.jsx)("span",{className:"grid size-10 place-content-center rounded-lg bg-gray-100 text-xs text-gray-600",children:u})}),(0,s.jsx)("div",{className:"border-t border-gray-100",children:(0,s.jsxs)("div",{className:"px-2",children:[(0,s.jsx)("div",{className:"py-4",children:h.slice(0,1).map(e=>{let{href:r,icon:a,label:o}=e,i=t===r;return(0,s.jsxs)(l(),{href:r,className:"group relative flex justify-center rounded-sm px-2 py-1.5 ".concat(i?"bg-blue-50 text-blue-700":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"),children:[a,(0,s.jsx)("span",{className:"invisible absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded-sm bg-gray-900 px-2 py-1.5 text-xs font-medium text-white group-hover:visible",children:o})]},r)})}),(0,s.jsx)("ul",{className:"space-y-1 border-t border-gray-100 pt-4",children:h.slice(1).map(e=>{let{href:r,icon:a,label:o}=e,i=t===r;return(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:r,className:"group relative flex justify-center rounded-sm px-2 py-1.5 ".concat(i?"bg-blue-50 text-blue-700":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"),children:[a,(0,s.jsx)("span",{className:"invisible absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded-sm bg-gray-900 px-2 py-1.5 text-xs font-medium text-white group-hover:visible",children:o})]})},r)})})]})})]}),(0,s.jsx)("div",{className:"sticky inset-x-0 bottom-0 border-t border-gray-100 bg-white p-2",children:(0,s.jsxs)("button",{onClick:()=>{(0,c.ri)(),window.location.href="/"},className:"group relative flex w-full justify-center rounded-lg px-2 py-1.5 text-sm text-red-500 hover:bg-gray-50 hover:text-gray-700",children:[(0,s.jsx)(n.zvW,{className:"size-5 opacity-75"}),(0,s.jsx)("span",{className:"invisible absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded-sm bg-gray-900 px-2 py-1.5 text-xs font-medium text-white group-hover:visible",children:"Logout"})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[380,673,874,441,684,358],()=>r(35221)),_N_E=e.O()}]);