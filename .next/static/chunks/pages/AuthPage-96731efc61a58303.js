(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{9895:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(37876),a=s(14232),l=s(54587),n=s.n(l),i=s(41149),o=s(14e3),d=s(13833),c=s(82240);let m=async e=>{try{let t=await d.A.post("/auth/login",e);return console.log("Login response:",t.data),t.data}catch(e){(0,c.h)(e,"Login Failed")}},u=async e=>{try{return(await d.A.post("/auth/register",e)).data}catch(e){(0,c.h)(e,"Register Failed")}};function x(){return(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})}var h=s(98477);let g={information:(0,r.jsx)(i.$4v,{className:"text-blue-500 w-6 h-6"}),success:(0,r.jsx)(i.jh$,{className:"text-green-500 w-6 h-6"}),warning:(0,r.jsx)(i.jDV,{className:"text-yellow-500 w-6 h-6"}),danger:(0,r.jsx)(i.XfH,{className:"text-red-500 w-6 h-6"})};function p(e){let{message:t,type:s="information",onOk:a,onCancel:l}=e;return(0,h.createPortal)((0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-white/30",children:(0,r.jsxs)("div",{className:"bg-white w-full max-w-sm mx-auto rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{children:g[s]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("p",{className:"text-gray-800 font-medium",children:t})})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[l&&(0,r.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-md border text-gray-600 hover:bg-gray-100",children:"Cancel"}),(0,r.jsx)("button",{onClick:a||(()=>{}),className:"px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:"OK"})]})]})}),document.body)}let y=()=>{let[e,t]=(0,a.useState)("login"),[s,l]=(0,a.useState)(!1),d=(0,a.useRef)(null),[c,h]=(0,a.useState)({}),[g,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),f=(0,o.useRouter)(),[v,w]=(0,a.useState)({name:"",number:"",email:"",password:""}),N="login"===e,k=async t=>{t.preventDefault(),h({}),y(!0),console.log(e);try{let e;if(N)e=await m({email:v.email,password:v.password});else{var s;if(!(null==(s=d.current)?void 0:s.checked)){h({terms:"Kamu Harus Mensetujui Terms & Privacy "}),y(!1);return}e=await u({...v,number:"+62".concat(v.number)})}let t=e.data.token;localStorage.setItem("token",t),f.push("/dashboard")}catch(e){e instanceof Error&&h({general:e.message})}finally{y(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1    md:grid-cols-2 w-full max-w-7xl    bg-white shadow-2xl rounded-2xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-8 sm:p-12 min-h-[750px] flex flex-col justify-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:N?"Sign In":"Sign Up"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:N?"Wellcome Back!":"Let's Sign Up To Get Started.!"}),(0,r.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[!N&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{type:"text",value:v.name,onChange:e=>w({...v,name:e.target.value}),placeholder:"John Doe",className:"w-full mt-1 px-4 py-2 border rounded-md border-gray-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center justify-center pl-3 pt-1 text-gray-500 text-sm",children:"+62"}),(0,r.jsx)("input",{type:"text",value:v.number,onChange:e=>w({...v,number:e.target.value}),placeholder:"8xxxxxxx",className:"pl-12 w-full mt-1 px-4 py-2 border rounded-md border-gray-400"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",value:v.email,onChange:e=>w({...v,email:e.target.value}),placeholder:"johndoe@gmail.com",className:"w-full mt-1 px-4 py-2 border rounded-md border-gray-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:s?"text":"password",value:v.password,onChange:e=>w({...v,password:e.target.value}),placeholder:"********",className:"w-full mt-1 px-4 py-2 border rounded-md border-gray-400"}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>l(!s),children:s?(0,r.jsx)(i.rs7,{}):(0,r.jsx)(i.yMb,{})})]})]}),c.general&&(0,r.jsx)("div",{className:"text-red-500 text-sm mt-1",children:c.general}),!N&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{ref:d,id:"terms",type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),(0,r.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the "," ",(0,r.jsx)("button",{type:"button",className:"text-indigo-600 hover:underline",onClick:()=>j(!b),children:" Term & Privacy Policy"})]})]}),c.terms&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.terms}),(0,r.jsx)("button",{type:"submit",disabled:g,className:"w-full py-2 px-4 rounded-md flex items-center justify-center gap-2 ".concat(g?"bg-indigo-400 cursor-not-allowed text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{}),"Processing..."]}):N?"Let's Explore":"Get Started"}),(0,r.jsx)("p",{className:"mt-6 text-sm text-center text-gray-600",children:N?(0,r.jsxs)(r.Fragment,{children:["Dont have an account? "," ",(0,r.jsx)("button",{type:"button",className:"text-indigo-600 hover:underline",onClick:()=>{t("register")},children:"Sign Up"})]}):(0,r.jsxs)(r.Fragment,{children:["Already have an account? "," ",(0,r.jsx)("button",{type:"button",className:"text-indigo-600 hover:underline",onClick:()=>{t("login")},children:"Sign In"})]})})]})]}),(0,r.jsx)("div",{className:"hidden md:block bg-indigo-600 relative min-h-[750px] w-full",children:(0,r.jsx)(n(),{src:"/images/auth-img.png",alt:"Auth Image",fill:!0,className:"object-cover",priority:!0})})]}),b&&(0,r.jsx)(p,{type:"information",message:"By using this application, you agree to our Terms and Privacy Policy. We may collect usage data to improve your experience. We do not share your data with third parties without your consent. For full details, visit our legal page.",onOk:()=>{j(!1),d.current&&(d.current.checked=!0)},onCancel:()=>j(!1)})]})}},13833:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=s(91040).A.create({baseURL:"http://localhost:5001/api/v1/",timeout:1e4,headers:{"Content-Type":"application/json"}})},71018:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/AuthPage",function(){return s(9895)}])},82240:(e,t,s)=>{"use strict";function r(e,t){if("object"==typeof e&&null!==e&&"response"in e){var s,r;let a=null==(s=e.response)?void 0:s.data;if(a&&"object"==typeof a&&!Array.isArray(a)){if(Array.isArray(a.errors)&&a.errors.length>0)throw Error((null==a||null==(r=a.errors[0])?void 0:r.msg)||t);if("string"==typeof a.message)throw Error(a.message)}if("string"==typeof a)throw Error(a)}throw console.error("Unhandled error structure:",e),Error(t)}s.d(t,{h:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,[897,40,941,636,593,792],()=>t(71018)),_N_E=e.O()}]);