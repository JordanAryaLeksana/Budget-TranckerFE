"use strict";(()=>{var e={};e.id=410,e.ids=[220,410],e.modules={1428:e=>{e.exports=import("axios")},3180:(e,t,r)=>{r.d(t,{h:()=>a});function a(e,t){if("object"==typeof e&&null!==e&&"response"in e){let r=e.response?.data;if(r&&"object"==typeof r&&!Array.isArray(r)){if(Array.isArray(r.errors)&&r.errors.length>0)throw Error(r?.errors[0]?.msg||t);if("string"==typeof r.message)throw Error(r.message)}if("string"==typeof r)throw Error(r)}throw console.error("Unhandled error structure:",e),Error(t)}},8732:e=>{e.exports=require("react/jsx-runtime")},18500:(e,t,r)=>{r.d(t,{A:()=>a});function a(){return{}}},19380:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(87020),n=r(8732),o=a._(r(82015)),s=r(6370);async function l(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,s.loadGetInitialProps)(t,r)}}class i extends o.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}i.origGetInitialProps=l,i.getInitialProps=l,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23261:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var n=r(8732),o=r(82015),s=r(54465),l=r(53010),i=e([s]);s=(i.then?(await i)():i)[0];let c=({initialData:e,onSubmit:t})=>{let[r,a]=(0,o.useState)({type:"expense",amount:"",date:new Date().toISOString().slice(0,10),note:"",categoryId:""}),[i,c]=(0,o.useState)([]),u=async()=>{try{let e=await (0,s.iV)();c(e.data)}catch(e){e instanceof Error?console.error({message:e.message,type:"danger"}):console.error({message:"Terjadi Kesalahan",type:"danger"})}};(0,o.useEffect)(()=>{e&&a({...e,categoryId:String(e.categoryId),amount:String(e.amount)})},[]),(0,o.useEffect)(()=>{u()},[]);let d=e=>{let{name:t,value:r}=e.target;if("amount"===t){let e=r.replace(/\D/g,""),t=(0,l.A)(e);a(e=>({...e,amount:t}));return}a(e=>({...e,[t]:r}))};return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=r.amount.replace(/\D/g,""),n={...r,amount:a,categoryId:parseInt(String(r.categoryId))};t(n)},className:"space-y-4 max-w-xl",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"tipe",className:"block mb-1 text-sm",children:"Tipe"}),(0,n.jsxs)("select",{name:"type",value:r.type,onChange:d,className:"w-full border px-3 py-2 rounded",children:[(0,n.jsx)("option",{value:"income",children:"Pemasukan"}),(0,n.jsx)("option",{value:"expense",children:"Pengeluaran"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"jumlah",className:"block mb-1 text-sm",children:"Jumlah"}),(0,n.jsx)("input",{type:"text",name:"amount",value:r.amount,onChange:d,className:"w-full border px-3 py-2 rounded",placeholder:"Contoh: Rp. 10.000",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"tanggal",className:"block mb-1 text-sm",children:"Tanggal"}),(0,n.jsx)("input",{type:"date",name:"date",value:r.date,onChange:d,className:"w-full border px-3 py-2 rounded",placeholder:"Contoh: Rp. 10.000",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"catatan",className:"block mb-1 text-sm",children:"Catatan"}),(0,n.jsx)("input",{type:"text",name:"note",value:r.note,onChange:d,className:"w-full border px-3 py-2 rounded",placeholder:"Masukkan Catatan...",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"catatan",className:"block mb-1 text-sm",children:"Kategori"}),(0,n.jsxs)("select",{name:"categoryId",value:r.categoryId,onChange:d,className:"w-full border px-3 py-2 rounded",required:!0,children:[(0,n.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),i.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsx)("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Simpan"})]})};a()}catch(e){a(e)}})},33873:e=>{e.exports=require("path")},40361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},45135:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>y,default:()=>m,getServerSideProps:()=>f,getStaticPaths:()=>h,getStaticProps:()=>g,reportWebVitals:()=>b,routeModule:()=>A,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>x});var n=r(63885),o=r(80237),s=r(81413),l=r(58548),i=r.n(l),c=r(19380),u=r.n(c),d=r(23261),p=e([d]);d=(p.then?(await p)():p)[0];let m=(0,s.M)(d,"default"),g=(0,s.M)(d,"getStaticProps"),h=(0,s.M)(d,"getStaticPaths"),f=(0,s.M)(d,"getServerSideProps"),y=(0,s.M)(d,"config"),b=(0,s.M)(d,"reportWebVitals"),x=(0,s.M)(d,"unstable_getStaticProps"),P=(0,s.M)(d,"unstable_getStaticPaths"),j=(0,s.M)(d,"unstable_getStaticParams"),v=(0,s.M)(d,"unstable_getServerProps"),S=(0,s.M)(d,"unstable_getServerSideProps"),A=new n.PagesRouteModule({definition:{kind:o.A.PAGES,page:"/TransactionForm",pathname:"/TransactionForm",bundlePath:"",filename:""},components:{App:u(),Document:i()},userland:d});a()}catch(e){a(e)}})},53010:(e,t,r)=>{r.d(t,{A:()=>a});function a(e){let t=parseInt(e.replace(/\D/g,""));return isNaN(t)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t)}},54465:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{iV:()=>i});var n=r(65843),o=r(3180),s=r(18500),l=e([n]);n=(l.then?(await l)():l)[0];let i=async()=>{try{return(await n.A.get("/categories",{headers:(0,s.A)()})).data}catch(e){(0,o.h)(e,"Failed to fetch categories")}};a()}catch(e){a(e)}})},65843:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{A:()=>s});var n=r(1428),o=e([n]);let s=(n=(o.then?(await o)():o)[0]).default.create({baseURL:"http://localhost:5001/api/v1/",timeout:1e4,headers:{"Content-Type":"application/json"}});a()}catch(e){a(e)}})},80237:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},81413:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},82015:e=>{e.exports=require("react")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[548],()=>r(45135));module.exports=a})();